title: myst-to-ipynb basic features
cases:
  - title: styles in paragraph
    mdast:
      type: root
      children:
        - type: paragraph
          children:
            - type: text
              value: 'Some % '
            - type: emphasis
              children:
                - type: text
                  value: markdown
            - type: text
              value: ' with '
            - type: strong
              children:
                - type: text
                  value: different
            - type: text
              value: ' '
            - type: inlineCode
              value: style`s
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "Some % *markdown* with **different** ``style`s``"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: headings
    mdast:
      type: root
      children:
        - type: heading
          depth: 1
          children:
            - type: text
              value: first
        - type: paragraph
          children:
            - type: text
              value: 'Some % '
            - type: emphasis
              children:
                - type: text
                  value: markdown
        - type: heading
          depth: 4
          children:
            - type: text
              value: fourth
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "# first"
        - cell_type: markdown
          metadata: {}
          source:
            - "Some % *markdown*"
        - cell_type: markdown
          metadata: {}
          source:
            - "#### fourth"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: thematic break
    mdast:
      type: root
      children:
        - type: thematicBreak
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "---"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: block quote
    mdast:
      type: root
      children:
        - type: blockquote
          children:
            - type: paragraph
              children:
                - type: text
                  value: 'Some % '
                - type: emphasis
                  children:
                    - type: text
                      value: markdown
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "> Some % *markdown*"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: unordered list
    mdast:
      type: root
      children:
        - type: list
          ordered: false
          children:
            - type: listItem
              children:
                - type: paragraph
                  children:
                    - type: text
                      value: Item one
            - type: listItem
              children:
                - type: paragraph
                  children:
                    - type: text
                      value: Item two
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "*   Item one\n"
            - "\n"
            - "*   Item two"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: html
    mdast:
      type: root
      children:
        - type: html
          value: '<div>*Not markdown*</div>'
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "<div>*Not markdown*</div>"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: code - plain fenced
    mdast:
      type: root
      children:
        - type: code
          value: "5+5\nprint(\"hello world\\n\")"
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "```\n"
            - "5+5\n"
            - "print(\"hello world\\n\")\n"
            - "```"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: code cell in block
    mdast:
      type: root
      children:
        - type: block
          kind: notebook-code
          children:
            - type: code
              lang: python
              executable: true
              value: 'print("hello")'
            - type: output
              id: test-output
    ipynb:
      cells:
        - cell_type: code
          execution_count: null
          metadata: {}
          outputs: []
          source:
            - 'print("hello")'
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: mixed markdown and code cells
    mdast:
      type: root
      children:
        - type: heading
          depth: 1
          children:
            - type: text
              value: Title
        - type: block
          kind: notebook-code
          children:
            - type: code
              lang: python
              executable: true
              value: x = 1
        - type: paragraph
          children:
            - type: text
              value: After code
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "# Title"
        - cell_type: code
          execution_count: null
          metadata: {}
          outputs: []
          source:
            - "x = 1"
        - cell_type: markdown
          metadata: {}
          source:
            - "After code"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: block markers stripped
    mdast:
      type: root
      children:
        - type: block
          children:
            - type: paragraph
              children:
                - type: text
                  value: Content after marker
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "Content after marker"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: link with title
    mdast:
      type: root
      children:
        - type: paragraph
          children:
            - type: link
              url: https://example.com
              title: my link
              children:
                - type: text
                  value: Click here
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - '[Click here](https://example.com "my link")'
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: image
    mdast:
      type: root
      children:
        - type: image
          url: fig.png
          alt: A figure
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "![A figure](fig.png)"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2

  - title: break in paragraph
    mdast:
      type: root
      children:
        - type: paragraph
          children:
            - type: text
              value: Some markdown
            - type: break
            - type: text
              value: Some more markdown
    ipynb:
      cells:
        - cell_type: markdown
          metadata: {}
          source:
            - "Some markdown\\\n"
            - "Some more markdown"
      metadata:
        language_info:
          name: python
      nbformat: 4
      nbformat_minor: 2
